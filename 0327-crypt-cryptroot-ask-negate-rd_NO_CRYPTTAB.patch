From 76fa8652d25f28324207aa7c963999d2d90ba7b0 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Tue, 3 Sep 2013 10:49:01 +0200
Subject: [PATCH] crypt/cryptroot-ask: negate rd_NO_CRYPTTAB

Thanks  Michal Kovarik

https://bugzilla.redhat.com/show_bug.cgi?id=886194
---
 modules.d/90crypt/cryptroot-ask.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/modules.d/90crypt/cryptroot-ask.sh b/modules.d/90crypt/cryptroot-ask.sh
index 4b8efec..585bbdc 100755
--- a/modules.d/90crypt/cryptroot-ask.sh
+++ b/modules.d/90crypt/cryptroot-ask.sh
@@ -33,7 +33,7 @@ else
 fi
 
 # TODO: improve to support what cmdline does
-if [ -f /etc/crypttab ] && getargs rd_NO_CRYPTTAB; then
+if [ -f /etc/crypttab ] && ! getargs rd_NO_CRYPTTAB; then
     while read name dev luksfile rest; do
         # ignore blank lines and comments
         if [ -z "$name" -o "${name#\#}" != "$name" ]; then
