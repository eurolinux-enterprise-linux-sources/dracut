From 0fa047fcf17b31c19c340404af9044ab5761badb Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Wed, 17 Jul 2013 16:08:13 +0200
Subject: [PATCH] add mkinitrd man page

https://bugzilla.redhat.com/show_bug.cgi?id=610462
---
 Makefile   |   1 +
 mkinitrd.8 | 103 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 104 insertions(+)
 create mode 100644 mkinitrd.8

diff --git a/Makefile b/Makefile
index 3fc4226..c2e8e4a 100644
--- a/Makefile
+++ b/Makefile
@@ -47,6 +47,7 @@ endif
 	install -m 0755 dracut-functions $(DESTDIR)$(pkglibdir)/dracut-functions
 	cp -arx modules.d $(DESTDIR)$(pkglibdir)
 	install -m 0644 dracut.8 $(DESTDIR)$(mandir)/man8
+	install -m 0644 mkinitrd.8 $(DESTDIR)$(mandir)/man8
 	install -m 0644 dracut-catimages.8 $(DESTDIR)$(mandir)/man8
 	install -m 0644 dracut-gencmdline.8 $(DESTDIR)$(mandir)/man8
 	install -m 0644 dracut.conf.5 $(DESTDIR)$(mandir)/man5
diff --git a/mkinitrd.8 b/mkinitrd.8
new file mode 100644
index 0000000..fe129ae
--- /dev/null
+++ b/mkinitrd.8
@@ -0,0 +1,103 @@
+'\" t
+.\"     Title: mkinitrd
+.\"    Author: [see the "AUTHORS" section]
+.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
+.\"      Date: 07/17/2013
+.\"    Manual: dracut
+.\"    Source: dracut
+.\"  Language: English
+.\"
+.TH "MKINITRD" "8" "07/17/2013" "dracut" "dracut"
+.\" -----------------------------------------------------------------
+.\" * Define some portability stuff
+.\" -----------------------------------------------------------------
+.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+.\" http://bugs.debian.org/507673
+.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
+.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+.ie \n(.g .ds Aq \(aq
+.el       .ds Aq '
+.\" -----------------------------------------------------------------
+.\" * set default formatting
+.\" -----------------------------------------------------------------
+.\" disable hyphenation
+.nh
+.\" disable justification (adjust text to left margin only)
+.ad l
+.\" -----------------------------------------------------------------
+.\" * MAIN CONTENT STARTS HERE *
+.\" -----------------------------------------------------------------
+.SH "NAME"
+mkinitrd \- is a compat wrapper, which calls dracut to generate an initramfs
+.SH "SYNOPSIS"
+.sp
+\fBmkinitrd\fR [\fIOPTION\&...\fR] [<initrd\-image>] <kernel\-version>
+.SH "DESCRIPTION"
+.sp
+mkinitrd creates an initramfs image <initrd\-image> for the kernel with version <kernel\-version> by calling "dracut"\&.
+.if n \{\
+.sp
+.\}
+.RS 4
+.it 1 an-trap
+.nr an-no-space-flag 1
+.nr an-break-flag 1
+.br
+.ps +1
+\fBImportant\fR
+.ps -1
+.br
+.sp
+If a more fine grained control over the resulting image is needed, "dracut" should be called directly\&.
+.sp .5v
+.RE
+.SH "OPTIONS"
+.PP
+\fB\-\-version\fR
+.RS 4
+print info about the version
+.RE
+.PP
+\fB\-v, \-\-verbose\fR
+.RS 4
+increase verbosity level
+.RE
+.PP
+\fB\-f, \-\-force\fR
+.RS 4
+overwrite existing initramfs file\&.
+.RE
+.PP
+\fB*\-\-image\-version\fR
+.RS 4
+append the kernel version to the target image <initrd\-image>\-<kernel\-version>\&.
+.RE
+.PP
+\fB\-\-with=<module>\fR
+.RS 4
+add the kernel module <module> to the initramfs\&.
+.RE
+.PP
+\fB\-\-preload=<module>\fR
+.RS 4
+preload the kernel module <module> in the initramfs before any other kernel modules are loaded\&. This can be used to ensure a certain device naming, which should in theory be avoided and the use of symbolic links in /dev is encouraged\&.
+.RE
+.PP
+\fB\-\-nocompress\fR
+.RS 4
+do not compress the resulting image\&.
+.RE
+.PP
+\fB\-\-help\fR
+.RS 4
+print a help message and exit\&.
+.RE
+.SH "AVAILABILITY"
+.sp
+The mkinitrd command is part of the dracut package and is available from \m[blue]\fBhttps://dracut\&.wiki\&.kernel\&.org\fR\m[]
+.SH "AUTHORS"
+.sp
+Harald Hoyer
+.SH "SEE ALSO"
+.sp
+\fBdracut\fR(8)
