From a8fb48486c4957fa0f3ab7e1dbee2a26f9331c3f Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Thu, 5 Mar 2015 10:48:51 +0100
Subject: [PATCH] ifcfg/write-ifcfg.sh: use the correct interface name for dhcp
 files

fix a copy & paste error
---
 modules.d/45ifcfg/write-ifcfg.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/modules.d/45ifcfg/write-ifcfg.sh b/modules.d/45ifcfg/write-ifcfg.sh
index 635a4a0..71ec70e 100644
--- a/modules.d/45ifcfg/write-ifcfg.sh
+++ b/modules.d/45ifcfg/write-ifcfg.sh
@@ -47,8 +47,8 @@ for netif in $IFACES ; do
         if [ -f /tmp/dhclient.$netif.lease ]; then
             strstr "$ip" '*:*:*' && echo "DHCPV6C=yes"
             echo "BOOTPROTO=dhcp"
-	    [ -s /tmp/dhclient.$iface.lease ] &&    cp /tmp/dhclient.$iface.lease    /tmp/net.$iface.lease
-	    [ -s /tmp/dhclient.$iface.dhcpopts ] && cp /tmp/dhclient.$iface.dhcpopts /tmp/net.$iface.dhcpopts
+	    [ -f /tmp/dhclient.$netif.lease ] &&    cp /tmp/dhclient.$netif.lease    /tmp/net.$netif.lease
+	    [ -f /tmp/dhclient.$netif.dhcpopts ] && cp /tmp/dhclient.$netif.dhcpopts /tmp/net.$netif.dhcpopts
         else
             echo "BOOTPROTO=none"
         # If we've booted with static ip= lines, the override file is there
