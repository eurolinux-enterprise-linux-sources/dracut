From dd8a1899b7cdc72f8280b6043f7844b0035c0089 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Fri, 9 Sep 2011 14:00:59 -0700
Subject: [PATCH] selinux-loadpolicy: hide info message, if selinux is disabled

https://bugzilla.redhat.com/show_bug.cgi?id=659076
---
 modules.d/99base/selinux-loadpolicy.sh | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/modules.d/99base/selinux-loadpolicy.sh b/modules.d/99base/selinux-loadpolicy.sh
index b82c859..258e5c5 100755
--- a/modules.d/99base/selinux-loadpolicy.sh
+++ b/modules.d/99base/selinux-loadpolicy.sh
@@ -20,7 +20,9 @@ rd_load_policy()
     if [ -x "$NEWROOT/usr/sbin/load_policy" -o -x "$NEWROOT/sbin/load_policy" ]; then
 	local ret=0
 	local out
-	info "Loading SELinux policy"
+        if [ "$SELINUX" != "disabled" ]; then
+            info "Loading SELinux policy"
+        fi
         # load_policy does mount /proc and /selinux in 
         # libselinux,selinux_init_load_policy()
         if [ -x "$NEWROOT/sbin/load_policy" ]; then
