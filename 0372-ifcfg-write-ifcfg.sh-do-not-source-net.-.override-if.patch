From c1b5163c29fb4cb4b6bf973e8589fdb75487ea68 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Tue, 10 May 2011 10:55:48 +0200
Subject: [PATCH] ifcfg/write-ifcfg.sh: do not source net.*.override, if it
 doesn't exist

---
 modules.d/45ifcfg/write-ifcfg.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/modules.d/45ifcfg/write-ifcfg.sh b/modules.d/45ifcfg/write-ifcfg.sh
index 71ec70e..16d4793 100644
--- a/modules.d/45ifcfg/write-ifcfg.sh
+++ b/modules.d/45ifcfg/write-ifcfg.sh
@@ -51,8 +51,8 @@ for netif in $IFACES ; do
 	    [ -f /tmp/dhclient.$netif.dhcpopts ] && cp /tmp/dhclient.$netif.dhcpopts /tmp/net.$netif.dhcpopts
         else
             echo "BOOTPROTO=none"
-        # If we've booted with static ip= lines, the override file is there
-            . /tmp/net.$netif.override
+            # If we've booted with static ip= lines, the override file is there
+            [ -e /tmp/net.$netif.override ] && . /tmp/net.$netif.override
             echo "IPADDR=$ip"
             echo "NETMASK=$mask"
             [ -n "$gw" ] && echo "GATEWAY=$gw"
