From 6efc9e13be26b2508b72286e0fa9ac0e2244e070 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Fri, 29 Jun 2012 14:33:12 +0200
Subject: [PATCH] Revert "99base/init: mount with sane defaults"

This reverts commit 0269b775fce0d996bf75f14dc4ac1f28396ac4b2.

https://bugzilla.redhat.com/show_bug.cgi?id=831338
---
 modules.d/99base/init | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/modules.d/99base/init b/modules.d/99base/init
index b93cb8e..f938eb3 100755
--- a/modules.d/99base/init
+++ b/modules.d/99base/init
@@ -74,14 +74,14 @@ RDDEBUG=""
 mknod -m 0666 /dev/null c 1 3
 
 # mount some important things
-mount -t proc -o nosuid,noexec,nodev proc /proc >/dev/null 2>&1
-mount -t sysfs -o nosuid,noexec,nodev sysfs /sys >/dev/null 2>&1
+mount -t proc proc /proc >/dev/null 2>&1
+mount -t sysfs sysfs /sys >/dev/null 2>&1
 
 if [ ! -c /dev/ptmx ]; then
     # try to mount devtmpfs
-    if ! mount -t devtmpfs -o mode=0755,nosuid devtmpfs /dev >/dev/null 2>&1; then
+    if ! mount -t devtmpfs -omode=0755 devtmpfs /dev >/dev/null 2>&1; then
         # if it failed fall back to normal tmpfs
-	mount -t tmpfs -omode=0755,nosuid tmpfs /dev >/dev/null 2>&1 
+	mount -t tmpfs -omode=0755 tmpfs /dev >/dev/null 2>&1 
 	# Make some basic devices first, let udev handle the rest
 	mknod -m 0666 /dev/null c 1 3
 	mknod -m 0666 /dev/ptmx c 5 2
@@ -106,7 +106,7 @@ setdebug
 mkdir /dev/shm
 mkdir /dev/pts
 mount -t devpts -o gid=5,mode=620 devpts /dev/pts >/dev/null 2>&1
-mount -t tmpfs -o mode=1777,nosuid,nodev tmpfs /dev/shm >/dev/null 
+mount -t tmpfs tmpfs /dev/shm >/dev/null 2>&1
 
 UDEVVERSION=$(udevadm --version)
 
